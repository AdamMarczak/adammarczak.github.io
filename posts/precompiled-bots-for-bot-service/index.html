<!DOCTYPE html>
<html lang="en-us">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Marczak.IO  | Precompiled Bots with VS 2017 tooling</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="stylesheet" id="hestia_fonts-css" href="https://fonts.googleapis.com/css?family=Roboto%3A300%2C400%2C500%2C700%7CRoboto+Slab%3A400%2C700&amp;subset=latin%2Clatin-ext&amp;ver=1.1.47"
    type="text/css" media="all">
  <link rel="stylesheet" id="bootstrap-css" href="https://marczak.io/css/bootstrap.min.css"
    type="text/css" media="all">
  <link rel="stylesheet" id="font-awesome-css" href="https://marczak.io/css/fontawesome.css"
    type="text/css" media="all">
  <link href='https://marczak.io/css/hestia.css' rel="stylesheet" type="text/css" />
  <link href='https://marczak.io/css/main.css?ver=1.01' rel='stylesheet' type="text/css" />
  <link href='https://marczak.io/css/syntax.css' rel='stylesheet' type="text/css" />
  
  
    <meta name="description" content="With the release of Visual Studio 2017 15.3 developers can take advantage of new Tools for Azure Functions. Learn how to take advantage of those tools to deliver pre-compiled bots for Azure Bot Service.">
    <meta name="author" content="Adam Marczak">
  <meta property="og:locale" content="en_US">
  <meta property="article:author" content="https://www.facebook.com/MarczakIO/">
  <meta property="og:type" content="article">
  <meta property="og:title" content="Precompiled Bots with VS 2017 tooling">
  <meta property="og:description" content="With the release of Visual Studio 2017 15.3 developers can take advantage of new Tools for Azure Functions. Learn how to take advantage of those tools to deliver pre-compiled bots for Azure Bot Service.">
  <meta property="og:url" content="https://marczak.io/posts/precompiled-bots-for-bot-service/">
  <meta property="og:site_name" content="Marczak.IO">
  <meta property="og:image" content="https://marczak.io/images/az-bs-compilable-bots.jpg">
  
  <meta name="twitter:card" content="summary">
  <meta name="twitter:site" content="@MarczakIO">
  
  <meta name="twitter:title" content="Precompiled Bots with VS 2017 tooling">
  <meta name="twitter:description" content="With the release of Visual Studio 2017 15.3 developers can take advantage of new Tools for Azure Functions. Learn how to take advantage of those tools to deliver pre-compiled bots for Azure Bot Service.">
  <meta name="twitter:url" content="https://marczak.io/posts/precompiled-bots-for-bot-service/">

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-106560028-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments)};
  gtag('js', new Date());

  gtag('config', 'UA-106560028-1');
</script>
</head>
 
<body class="home blog">
  <div class="wrapper">
    
    <header class="header ">
  <nav class="navbar navbar-default navbar-fixed-top  hestia_left">
    <div class="container">
      <div class="navbar-header">
        <div class="title-logo-wrapper">
          <a class="navbar-brand" href="/" title="Marczak.IO">
            <p>
              Adam Marczak
            </p>
          </a>
        </div>
        
      </div>
      <div id="main-navigation" class="collapse navbar-collapse">
        <div class="entry-social">
  
  <a target="_top" class="btn btn-just-icon btn-social btn-social-mail"
     href="mailto:adam@marczak.io">
    <i class="fa fa-envelope-o"></i>
  </a>
  
  
  <a target="_blank" class="btn btn-just-icon btn-social btn-social-facebook"
     href="https://www.facebook.com/MarczakIO/">
    <i class="fa fa-facebook"></i>
  </a>
  
  
  <a target="_blank" class="btn btn-just-icon btn-social btn-social-twitter"
     href="https://twitter.com/MarczakIO">
    <i class="fa fa-twitter"></i>
  </a>
  
  
  <a target="_blank" class="btn btn-just-icon btn-social btn-social-github"
     href="https://github.com/MarczakIO">
    <i class="fa fa-github"></i>
  </a>
  
  
  <a target="_blank" class="btn btn-just-icon btn-social btn-social-youtube"
     href="https://www.youtube.com/channel/UCbbjOn2UosI_yaD5d4w_Flw">
    <i class="fa fa-youtube"></i>
  </a>
  
</div>
      </div>
      
    </div>
  </nav>
  <div id="primary" class="boxed-layout-header page-header header-small" data-parallax="active" style="margin-top: 50px;">
    <div class="container" style="padding-top: 150px;">
      <div class="row">
        <div class="col-md-10 col-md-offset-1 text-center">
          <h1 class="hestia-title">Precompiled Bots with VS 2017 tooling</h1>
          
            <h4 class="author">
              Published by 
              <a href="/about" title="Adam Marczak" class="vcard author"><strong class="fn">Adam Marczak</strong></a>
              </a> on 
              <time class="date updated published" datetime="2017-09-30 16:20:25 &#43;0200 CEST">
                  Sep 30 2017
              </time>
            </h4>
           
        </div>
      </div>
    </div>
    <div class="header-filter" 
         style="background-image: url('/images/background.jpg');">
    </div>

  </div>
</header>
    <div class="main main-raised">
      <div class="hestia-blogs">
        <div class="container">
          <div class="row">
            
<div class="col-md-8 single-posts-wrap">
    <article id="/posts/precompiled-bots-for-bot-service/" class="article-section section-text">
        
            <img class="blog-image" alt="Precompiled Bots with VS 2017 tooling" src="/images/az-bs-compilable-bots.jpg">
        
        
            <a target="_blank" 
   rel="tooltip" 
   class="btn btn-round btn-github"
   href="https://github.com/MarczakIO/precompiled-bots">
    <i class="fa fa-github"></i>
    Source Code
</a>
        
        <h2>Highlight</h2>
        <p>With the release of Visual Studio 2017 15.3 developers can take advantage of new Tools for Azure Functions. Learn how to take advantage of those tools to deliver pre-compiled bots for Azure Bot Service.</p>

<p>Building chat bots for Azure Bot Service is very simple and takes little to no effort this days. In minutes fully functional bots can be presented to a client. Although the development doesn&rsquo;t end there.</p>

<h3 id="why-would-anyone-pre-compile-bots">Why would anyone pre-compile bots?</h3>

<p>Working in browser development environment has its perks. Developers and architects can quickly develop, prototype, test, present and then delete everything and start over with no almost cost or time investment. As good as it sounds it&rsquo;s only good for proof of concept and demo projects. For long term projects developer needs versioning, code repository, continues integration/deployment, team collaboration space and last but not least strongly typed language. Strong typing is crucial in day to day programming and C# Scripting (CSX) does not deliver this. To create bots with classic C# a conversion of standard CSX template must be done.</p>

<h3 id="prerequisites">Prerequisites</h3>

<ol>
<li>Visual Studio 2017 15.3</li>
<li>Azure Subscription</li>
</ol>

<h3 id="instead-of-reading-you-can-watch">Instead of reading you can watch!</h3>

<p>Different people prefer different medium and with this in mind this video was created. It contains no sound just presents the tutorial.</p>

<iframe width="560" height="315" src="https://www.youtube.com/embed/XExRoqocHDA" frameborder="0" allowfullscreen></iframe>

<h2 id="creating-a-bot-in-azure-portal">Creating a Bot in Azure Portal</h2>

<p>For the purpose of this article a simple <a href="https://docs.microsoft.com/en-us/bot-framework/dotnet/bot-builder-dotnet-formflow">Form Flow</a> bot will be created. All bots templates always have the same root function that executes entire logic and for that reason the same steps can be applied in case of every bot.</p>

<ol>
<li>Log into <a href="https://portal.azure.com">Azure Portal</a></li>
<li>Find Azure Bot Service in Marketplace
<div class="sm-150"><img src="/images/compilable-bots/1.jpg" alt="Azure Bot Service" /></div></li>
<li>Create Bot Service
<div class="sm-200"><img src="/images/compilable-bots/2.jpg" alt="Azure Bot Service" /></div></li>
<li>Fill in the data.

<ul>
<li><strong>Consumption Plan</strong> will <a href="https://azure.microsoft.com/en-us/pricing/details/functions/">Functions pricing</a> model (pay per execution). Preferred for most bots.</li>
<li><strong>App Service Plan</strong> will use <a href="https://azure.microsoft.com/en-us/pricing/details/app-service/">App Service</a> (pay for reserved capacity). Preferred if using Free Tier for learning purposes.
<div class="sm-350"><img src="/images/compilable-bots/3.jpg" alt="Azure Bot Service" /></div>
Portal should automatically open bot editor after deployment is successful. If not open bot can be opened via either Portal &gt; App Services, Notifications or Dashboard if &lsquo;Pin to Dashboard&rsquo; option was selected.</li>
</ul></li>
<li>Click create button redirects to Microsoft App Registration page where application must be first registered.
<div class="sm-150"><img src="/images/compilable-bots/4.jpg" alt="Azure Bot Service" /></div>
<strong>Note</strong>: Forgetting to save app password might be troublesome in some scenarios but this isn&rsquo;t the case. App password will be available in bot app settings
<div class="sm-250"><img src="/images/compilable-bots/5.jpg" alt="Azure Bot Service" /></div></li>
<li>Set C# as language and choose Form template.
<div class="sm-any"><img src="/images/compilable-bots/6.jpg" alt="Azure Bot Service" /></div></li>
</ol>

<h2 id="converting-template">Converting template</h2>

<p>There are many ways to approach conversion of template from interpreted C# scripting (CSX) to compiled files (CS). Completely new template in Visual Studio with simple copy-paste seems to be most straight forward one.</p>

<ol>
<li>Create new Functions Project in Visual Studio by selecting Azure Functions project
<div class="sm-250"><img src="/images/compilable-bots/8.jpg" alt="Azure Bot Service" /></div>
In order for Azure Functions to appear on the list following items must be met

<ul>
<li>Visual Studio is in version 15.3 and above</li>
<li>Visual Studio Azure development tools are installed</li>
<li>Visual Studio Azure Function Tools extension is up to date
<div class="sm-250"><img src="/images/compilable-bots/7.jpg" alt="Azure Bot Service" /></div></li>
<li>More into at <a href="https://docs.microsoft.com/en-us/azure/azure-functions/functions-develop-vs">MSDN article</a></li>
</ul></li>
<li>Right-click on project references and select Manage Nuget Packages

<ul>
<li>Install Microsoft.Bot.Builder 3.9.0</li>
<li>Install Microsoft.Bot.Builder.Azure 3.2.3</li>
</ul></li>
<li>Copy the contents of Azure Functions from Azure Web Project to Visual Studio project.
There are three files that needs to be moved <strong>Messages.csx</strong> to <strong>Messages.cs</strong>, <strong>MainDialog.csx</strong> to <strong>MainDialog.cs</strong> and <strong>BasicForm.csx</strong> to <strong>BasicForm.cs</strong>

<ol>
<li>Right-click the project and Select Add New Item
<div class="sm-200"><img src="/images/compilable-bots/9.jpg" alt="Azure Bot Service" /></div></li>
<li>Select Http Trigger template and name the file Messages
<div class="sm-300"><img src="/images/compilable-bots/10.jpg" alt="Azure Bot Service" /></div></li>
<li>Copy the body of messages function from messages.csx to messages.cs file and fix missing namespaces. Use <strong>CTRL+.</strong> shortcut.
Note: Only body of the function should be copied, function definition should be left as it was generated by VS.</li>
<li>Right-click the project and Select Add New Item and add two new classes MainDialog.cs and BasicForm.cs</li>
<li>Copy paste entire classes from web browser to VS project and again fix the namespaces.</li>
</ol></li>
<li>Download the publish profile from the web for the bot

<ol>
<li>Go to portal and in your bot editing window select Settings tab and in Advanced Settings section click Open button
<div class="sm-200"><img src="/images/compilable-bots/11.jpg" alt="Azure Bot Service" /></div></li>
<li>Click download Publish Profile
<div class="sm-100"><img src="/images/compilable-bots/12.jpg" alt="Azure Bot Service" /></div></li>
</ol></li>
<li>Right-click on the Visual Studio project and select Publish. From the given options click on <strong>Import Profile</strong> and hit Publish.
<div class="sm-200"><img src="/images/compilable-bots/13.jpg" alt="Azure Bot Service" /></div></li>
<li>Select location of your profile download location and publishing process will automatically start. Project automatically rebuilds and restores packages at this point so it might take longer the first time.
<div class="sm-200"><img src="/images/compilable-bots/14.jpg" alt="Azure Bot Service" /></div></li>
</ol>

<p>After successful publishing give platform a moment to rebuild the bot and start testing it right away. Testing in browser works fine although developers no longer will be able to see or modify the code there.</p>

<h3 id="but-hey-something-is-wrong">But HEY! Something is wrong!</h3>

<p>It takes less than a minute to notice that something is wrong. When talking to bot every conversation resets to the beginning. The root cause of this issue is that in current version of bot framework and azure functions there is a deserialization issue which results in bot losing it state and therefore starting every conversation from the beginning.
<div class="sm-350"><img src="/images/compilable-bots/15.jpg" alt="Azure Bot Service" /></div></p>

<p>Happily for everyone Github user <a href="https://github.com/berhir">berhir</a> found a decent workaround which he posted <a href="https://github.com/Microsoft/BotBuilder/issues/2407">here</a>.</p>

<p>Basically in order for state to work follow below steps.</p>

<ol>
<li>Add new class to project called AzureFunctionsResolveAssembly.cs</li>
<li>Copy paste following class <a href="https://github.com/MarczakIO/precompiled-bots/blob/master/PrecompiledBot/AzureFunctionsResolveAssembly.cs">source code here</a>
<div class="highlight"><pre class="chroma"><code class="language-cpp" data-lang="cpp"><span class="s3e8">public</span><span class="s1f40"> </span><span class="s3e8">class</span><span class="s1f40"> </span><span class="s7d4">AzureFunctionsResolveAssembly</span><span class="s1f40"> </span><span class="sfa0">:</span><span class="s1f40"> </span><span class="s7d0">IDisposable</span><span class="s1f40">
</span><span class="s1f40"></span><span class="s1388">{</span><span class="s1f40">
</span><span class="s1f40">    </span><span class="s3e8">public</span><span class="s1f40"> </span><span class="s7d0">AzureFunctionsResolveAssembly</span><span class="s1388">()</span><span class="s1f40">
</span><span class="s1f40">    </span><span class="s1388">{</span><span class="s1f40">
</span><span class="s1f40">        </span><span class="s7d0">AppDomain</span><span class="s1388">.</span><span class="s7d0">CurrentDomain</span><span class="s1388">.</span><span class="s7d0">AssemblyResolve</span><span class="s1f40"> </span><span class="sfa0">+=</span><span class="s1f40"> </span><span class="s7d0">CurrentDomain_AssemblyResolve</span><span class="s1388">;</span><span class="s1f40">
</span><span class="s1f40">    </span><span class="s1388">}</span><span class="s1f40">
</span><span class="s1f40">
</span><span class="s1f40">    </span><span class="s3e8">void</span><span class="s1f40"> </span><span class="s7d0">IDisposable</span><span class="s1388">.</span><span class="s7d0">Dispose</span><span class="s1388">()</span><span class="s1f40">
</span><span class="s1f40">    </span><span class="s1388">{</span><span class="s1f40">
</span><span class="s1f40">        </span><span class="s7d0">AppDomain</span><span class="s1388">.</span><span class="s7d0">CurrentDomain</span><span class="s1388">.</span><span class="s7d0">AssemblyResolve</span><span class="s1f40"> </span><span class="sfa0">-=</span><span class="s1f40"> </span><span class="s7d0">CurrentDomain_AssemblyResolve</span><span class="s1388">;</span><span class="s1f40">
</span><span class="s1f40">    </span><span class="s1388">}</span><span class="s1f40">
</span><span class="s1f40">
</span><span class="s1f40">    </span><span class="s3e8">private</span><span class="s1f40"> </span><span class="s7d0">Assembly</span><span class="s1f40"> </span><span class="s7d0">CurrentDomain_AssemblyResolve</span><span class="s1388">(</span><span class="s7d0">object</span><span class="s1f40"> </span><span class="s7d0">sender</span><span class="s1388">,</span><span class="s1f40"> </span><span class="s7d0">ResolveEventArgs</span><span class="s1f40"> </span><span class="s7d0">arguments</span><span class="s1388">)</span><span class="s1f40">
</span><span class="s1f40">    </span><span class="s1388">{</span><span class="s1f40">
</span><span class="s1f40">        </span><span class="s7d0">var</span><span class="s1f40"> </span><span class="s7d0">assembly</span><span class="s1f40"> </span><span class="sfa0">=</span><span class="s1f40"> </span><span class="s7d0">AppDomain</span><span class="s1388">.</span><span class="s7d0">CurrentDomain</span><span class="s1388">.</span><span class="s7d0">GetAssemblies</span><span class="s1388">()</span><span class="s1f40">
</span><span class="s1f40">            </span><span class="s1388">.</span><span class="s7d0">FirstOrDefault</span><span class="s1388">(</span><span class="s7d0">a</span><span class="s1f40"> </span><span class="sfa0">=&gt;</span><span class="s1f40"> </span><span class="s7d0">a</span><span class="s1388">.</span><span class="s7d0">GetName</span><span class="s1388">().</span><span class="s7d0">FullName</span><span class="s1f40"> </span><span class="sfa0">==</span><span class="s1f40"> </span><span class="s7d0">arguments</span><span class="s1388">.</span><span class="s7d0">Name</span><span class="s1388">);</span><span class="s1f40">
</span><span class="s1f40">
</span><span class="s1f40">        </span><span class="s3e8">if</span><span class="s1f40"> </span><span class="s1388">(</span><span class="s7d0">assembly</span><span class="s1f40"> </span><span class="sfa0">!=</span><span class="s1f40"> </span><span class="s7d0">null</span><span class="s1388">)</span><span class="s1f40">
</span><span class="s1f40">        </span><span class="s1388">{</span><span class="s1f40">
</span><span class="s1f40">            </span><span class="s3e8">return</span><span class="s1f40"> </span><span class="s7d0">assembly</span><span class="s1388">;</span><span class="s1f40">
</span><span class="s1f40">        </span><span class="s1388">}</span><span class="s1f40">
</span><span class="s1f40">
</span><span class="s1f40">        </span><span class="s1770">// try to load assembly from file
</span><span class="s1770"></span><span class="s1f40">        </span><span class="s7d0">var</span><span class="s1f40"> </span><span class="s7d0">assemblyDirectory</span><span class="s1f40"> </span><span class="sfa0">=</span><span class="s1f40"> </span><span class="s7d0">Path</span><span class="s1388">.</span><span class="s7d0">GetDirectoryName</span><span class="s1388">(</span><span class="s7d0">Assembly</span><span class="s1388">.</span><span class="s7d0">GetExecutingAssembly</span><span class="s1388">().</span><span class="s7d0">Location</span><span class="s1388">);</span><span class="s1f40">
</span><span class="s1f40">        </span><span class="s7d0">var</span><span class="s1f40"> </span><span class="s7d0">assemblyName</span><span class="s1f40"> </span><span class="sfa0">=</span><span class="s1f40"> </span><span class="s3e8">new</span><span class="s1f40"> </span><span class="s7d0">AssemblyName</span><span class="s1388">(</span><span class="s7d0">arguments</span><span class="s1388">.</span><span class="s7d0">Name</span><span class="s1388">);</span><span class="s1f40">
</span><span class="s1f40">        </span><span class="s7d0">var</span><span class="s1f40"> </span><span class="s7d0">assemblyFileName</span><span class="s1f40"> </span><span class="sfa0">=</span><span class="s1f40"> </span><span class="s7d0">assemblyName</span><span class="s1388">.</span><span class="s7d0">Name</span><span class="s1f40"> </span><span class="sfa0">+</span><span class="s1f40"> </span><span class="sc1c"></span><span class="sc1c">&#34;.dll&#34;</span><span class="s1388">;</span><span class="s1f40">
</span><span class="s1f40">        </span><span class="s7d0">string</span><span class="s1f40"> </span><span class="s7d0">assemblyPath</span><span class="s1388">;</span><span class="s1f40">
</span><span class="s1f40">
</span><span class="s1f40">        </span><span class="s3e8">if</span><span class="s1f40"> </span><span class="s1388">(</span><span class="s7d0">assemblyName</span><span class="s1388">.</span><span class="s7d0">Name</span><span class="s1388">.</span><span class="s7d0">EndsWith</span><span class="s1388">(</span><span class="sc1c"></span><span class="sc1c">&#34;.resources&#34;</span><span class="s1388">))</span><span class="s1f40">
</span><span class="s1f40">        </span><span class="s1388">{</span><span class="s1f40">
</span><span class="s1f40">            </span><span class="s7d0">var</span><span class="s1f40"> </span><span class="s7d0">resourceDirectory</span><span class="s1f40"> </span><span class="sfa0">=</span><span class="s1f40"> </span><span class="s7d0">Path</span><span class="s1388">.</span><span class="s7d0">Combine</span><span class="s1388">(</span><span class="s7d0">assemblyDirectory</span><span class="s1388">,</span><span class="s1f40"> </span><span class="s7d0">assemblyName</span><span class="s1388">.</span><span class="s7d0">CultureName</span><span class="s1388">);</span><span class="s1f40">
</span><span class="s1f40">            </span><span class="s7d0">assemblyPath</span><span class="s1f40"> </span><span class="sfa0">=</span><span class="s1f40"> </span><span class="s7d0">Path</span><span class="s1388">.</span><span class="s7d0">Combine</span><span class="s1388">(</span><span class="s7d0">resourceDirectory</span><span class="s1388">,</span><span class="s1f40"> </span><span class="s7d0">assemblyFileName</span><span class="s1388">);</span><span class="s1f40">
</span><span class="s1f40">        </span><span class="s1388">}</span><span class="s1f40">
</span><span class="s1f40">        </span><span class="s3e8">else</span><span class="s1f40">
</span><span class="s1f40">        </span><span class="s1388">{</span><span class="s1f40">
</span><span class="s1f40">            </span><span class="s7d0">assemblyPath</span><span class="s1f40"> </span><span class="sfa0">=</span><span class="s1f40"> </span><span class="s7d0">Path</span><span class="s1388">.</span><span class="s7d0">Combine</span><span class="s1388">(</span><span class="s7d0">assemblyDirectory</span><span class="s1388">,</span><span class="s1f40"> </span><span class="s7d0">assemblyFileName</span><span class="s1388">);</span><span class="s1f40">
</span><span class="s1f40">        </span><span class="s1388">}</span><span class="s1f40">
</span><span class="s1f40">
</span><span class="s1f40">        </span><span class="s3e8">if</span><span class="s1f40"> </span><span class="s1388">(</span><span class="s7d0">File</span><span class="s1388">.</span><span class="s7d0">Exists</span><span class="s1388">(</span><span class="s7d0">assemblyPath</span><span class="s1388">))</span><span class="s1f40">
</span><span class="s1f40">        </span><span class="s1388">{</span><span class="s1f40">
</span><span class="s1f40">            </span><span class="s3e8">return</span><span class="s1f40"> </span><span class="s7d0">Assembly</span><span class="s1388">.</span><span class="s7d0">LoadFrom</span><span class="s1388">(</span><span class="s7d0">assemblyPath</span><span class="s1388">);</span><span class="s1f40">
</span><span class="s1f40">        </span><span class="s1388">}</span><span class="s1f40">
</span><span class="s1f40">
</span><span class="s1f40">        </span><span class="s3e8">return</span><span class="s1f40"> </span><span class="s7d0">null</span><span class="s1388">;</span><span class="s1f40">
</span><span class="s1f40">    </span><span class="s1388">}</span><span class="s1f40">
</span><span class="s1f40"></span><span class="s1388">}</span></code></pre>
</div></li>
<li>And modify the Messages.cs class by adding AzureFunctionsResolveAssembly initialization just before BotService initialization
<div class="highlight"><pre class="chroma"><code class="language-cpp" data-lang="cpp"><span class="ln">22</span><span class="s1f40">    </span><span class="s7d0">log</span><span class="s1388">.</span><span class="s7d0">Info</span><span class="s1388">(</span><span class="ss4">$</span><span class="sc1c"></span><span class="sc1c">&#34;Webhook was triggered!&#34;</span><span class="s1388">);</span><span class="s1f40">
</span><span class="ln">23</span><span class="s1f40">
</span><span class="hl"><span class="ln">24</span><span class="s1f40">    </span><span class="s3e8">using</span><span class="s1f40"> </span><span class="s1388">(</span><span class="s3e8">new</span><span class="s1f40"> </span><span class="s7d0">AzureFunctionsResolveAssembly</span><span class="s1388">())</span><span class="s1f40">
</span></span><span class="ln">25</span><span class="s1f40">    </span><span class="s3e8">using</span><span class="s1f40"> </span><span class="s1388">(</span><span class="s7d0">BotService</span><span class="s1388">.</span><span class="s7d0">Initialize</span><span class="s1388">())</span></code></pre>
</div></li>
<li>republish the bot</li>
<li>Test it
<div class="sm-300"><img src="/images/compilable-bots/16.jpg" alt="Azure Bot Service" /></div></li>
</ol>

<p>That&rsquo;s it. In just about 10 minutes of work precompiled bot is fully functional and now proper CI/CD and unit testing can be done.</p>

<h3 id="play-around-with-it">Play around with it!</h3>

<p>Deployed and compiled chatbot is now ready to use. Clicking on below button will open live chat window.</p>

<div class="webchat inactive" src="https://webchat.botframework.com/embed/precompiled-bot_KPYYsDRFdC4?s=3MPqhp7I1fI.cwA.PTE.dCJJChIHAqirIJ-VbptG5T7QxMyulwGZHx-c3QBJjw0">
    <button class="btn btn-round chatbot-button btn-webchat">Click to test the chatbot!</button>
    <iframe class="chatbot" frameborder="0"></iframe>
</div>
        
            <a target="_blank" 
   rel="tooltip" 
   class="btn btn-round btn-github"
   href="https://github.com/MarczakIO/precompiled-bots">
    <i class="fa fa-github"></i>
    Source Code
</a>
        
    </article>
    <div class="section-blog-info">
        <div class="row">
            <div class="col-md-6">
                <div class="entry-tags">
                    Tags: 

  <h6 class="category text-info">
    
      <a href="/tags/functions" title="View all posts in x">Functions</a>
    
      <a href="/tags/bot-service" title="View all posts in x">Bot Service</a>
    
      <a href="/tags/azure" title="View all posts in x">Azure</a>
    
 </h6>


                </div>
            </div>
            <div class="col-md-6">
                <div class="entry-social">
                    <a target="_blank" 
   rel="tooltip" 
   data-original-title="Share on Facebook" 
   class="btn btn-just-icon btn-round btn-facebook"
   href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fmarczak.io%2fposts%2fprecompiled-bots-for-bot-service%2f">
    <i class="fa fa-facebook"></i>
</a>
<a target="_blank" 
   rel="tooltip" 
   data-original-title="Share on Twitter" 
   class="btn btn-just-icon btn-round btn-twitter" 
   href="https://twitter.com/home?status=Precompiled%20Bots%20with%20VS%202017%20tooling - https%3a%2f%2fmarczak.io%2fposts%2fprecompiled-bots-for-bot-service%2f">
   <i class="fa fa-twitter"></i>
</a>
<a target="_blank" 
   rel="tooltip" 
   data-original-title="Share on Google+" 
   class="btn btn-just-icon btn-round btn-google" 
   href="https://plus.google.com/share?url=https%3a%2f%2fmarczak.io%2fposts%2fprecompiled-bots-for-bot-service%2f"><i 
   class="fa fa-google"></i>
</a>
            
                </div>
            </div>
        </div>
        <hr>
        <div id="disqus_thread"></div>
<script>
var disqus_config = function () {
this.page.url = "https:\/\/marczak.io\/posts\/precompiled-bots-for-bot-service\/"; 
this.page.identifier = "\/posts\/precompiled-bots-for-bot-service\/";
};

(function() {
var d = document, s = d.createElement('script');
s.src = 'https://marczak-io.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
    </div>
</div>

            <div class="col-md-3 blog-sidebar-wrapper">
              <aside id="secondary" class="blog-sidebar" role="complementary">
                <div id="recent-posts-3" class="widget widget_recent_entries">
<h5>Recent Posts</h5>
<ul>


    <li><a href="/posts/precompiled-bots-for-bot-service/" title="Precompiled Bots with VS 2017 tooling" rel="bookmark">Precompiled Bots with VS 2017 tooling</a></li>



    <li><a href="/about/" title="" rel="bookmark"></a></li>


</ul>
</div>
                

<div id="categories-3" class="widget widget_categories">
  
  <h5>Tags</h5>
  <ul>
      
        <li> 
          <a href="/tags/azure">
            Azure
          </a> 
          (1)
        </li>
      
        <li> 
          <a href="/tags/bot-service">
            Bot Service
          </a> 
          (1)
        </li>
      
        <li> 
          <a href="/tags/functions">
            Functions
          </a> 
          (1)
        </li>
      
  </ul>
  
</div>


              </aside>
            </div>
          </div>
          
        </div>
      </div>

      
<footer class="footer footer-black footer-big">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <h5 class="connected-title">Stay Connected</h5>
                <div class="">
  
  <a target="_top" class="btn btn-just-icon btn-social-small btn-social-about"
     href="/about">
    <i class="fa fa-user"></i>
  </a>
  
  
  <a target="_top" class="btn btn-just-icon btn-social-small btn-social-mail"
     href="mailto:adam@marczak.io">
    <i class="fa fa-envelope"></i>
  </a>
  
  
  <a target="_blank" class="btn btn-just-icon btn-social-small btn-social-facebook"
     href="https://www.facebook.com/MarczakIO/">
    <i class="fa fa-facebook"></i>
  </a>
  
  
  <a target="_blank" class="btn btn-just-icon btn-social-small btn-social-twitter"
     href="https://twitter.com/MarczakIO">
    <i class="fa fa-twitter"></i>
  </a>
  
  
  <a target="_blank" class="btn btn-just-icon btn-social-small btn-social-github"
     href="https://github.com/MarczakIO">
    <i class="fa fa-github"></i>
  </a>
  
  
  <a target="_blank" class="btn btn-just-icon btn-social-small btn-social-youtube"
     href="https://www.youtube.com/channel/UCbbjOn2UosI_yaD5d4w_Flw">
    <i class="fa fa-youtube"></i>
  </a>
  
  
  <a target="_blank" class="btn btn-just-icon btn-social-small btn-social-linkedin"
     href="t">
    <i class="fa fa-linkedin"></i>
  </a>
  
  <a target="_blank" class="btn btn-just-icon btn-social-small btn-social-rss"
     href="https://marczak.io/index.xml">
    <i class="fa fa-rss"></i>
  </a>
</div>
            </div>
            &copy;<a href="/about" title="Adam Marczak" class="vcard author"><strong class="fn">Adam Marczak</strong></a> <a href="https://themeisle.com/themes/hestia/" target="_blank" rel="nofollow">Hestia Theme</a>
        </div>
    </div>
</footer>
    </div>
    
  </div>

  <script type="text/javascript" src="https://marczak.io/js/jquery.js?ver=1.12.4"></script>
  <script type="text/javascript" src="https://marczak.io/js/bootstrap.min.js?ver=1.0.1"></script>
  <script type="text/javascript" src="https://marczak.io/js/chat.js?ver=1.0.1"></script>
</body>

</html>